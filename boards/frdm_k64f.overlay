/ {
    aliases {
        /* LCD control aliases */
        cmd-data = &cmd_data;
        reset-pin = &reset_sign;

        /* Sensor aliases used by sensor_manager.c */
        lm35 = &lm35_sensor;
        bh1750 = &bh1750_sensor;
        dht11 = &dht11_sensor;

        /* Actuator aliases */
        fan-actuator = &fan_motor;
        irrigation-actuator = &irrigation_motor;
    };

    /* LCD + actuator GPIO container */
    io_pins {
        compatible = "gpio-leds";

        cmd_data: cmd_data {
            gpios = <&gpioc 5 GPIO_ACTIVE_HIGH>;
            label = "LCD Cmd_Data";
        };

        reset_sign: reset_sign {
            gpios = <&gpioc 7 GPIO_ACTIVE_HIGH>;
            label = "LCD Reset";
        };

        /* Fan actuator stays on PTC12 */
        fan_motor: fan_motor {
            gpios = <&gpioc 12 GPIO_ACTIVE_HIGH>;
            label = "Ventilation Motor Control";
        };

        /* Irrigation actuator moved to PTA1 */
        irrigation_motor: irrigation_motor {
            gpios = <&gpioa 1 GPIO_ACTIVE_HIGH>;
            label = "Irrigation Motor Control";
        };
    };
};

/* --- LCD SPI interface (already working) ----------------------------------- */
&spi0 {
    status = "okay";
    pinctrl-0 = <&spi0_default>;
    pinctrl-names = "default";

    my_spi_device: spi-device@0 {
        compatible = "vnd,spi-device";
        reg = <0>;
        spi-max-frequency = <1000000>;
    };
};

/* --- LM35 Analog Temperature Sensor ---------------------------------------- */
&adc0 {
    status = "okay";

    lm35_sensor: lm35 {
        compatible = "lm35";
        io-channels = <&adc0 6>;
        status = "okay";
        label = "LM35 Temperature Sensor";
    };
};

/* --- BH1750 I2C Light Sensor ------------------------------------------------ */
&i2c0 {
    status = "okay";
    pinctrl-0 = <&i2c0_default>;
    pinctrl-names = "default";

    bh1750_sensor: bh1750@23 {
        compatible = "rohm,bh1750";
        reg = <0x23>;
        status = "okay";
        label = "BH1750 Light Sensor";
    };
};

/* --- DHT11 Humidity Sensor -------------------------------------------------- */
&gpioc {
    status = "okay";

    dht11_sensor: dht11 {
        compatible = "aosong,dht";
        dio-gpios = <&gpioc 3 (GPIO_ACTIVE_HIGH)>;
        status = "okay";
        label = "DHT11 Humidity Sensor";
    };
};

/* --- Enable GPIOA for PTA1 -------------------------------------------------- */
&gpioa {
    status = "okay";
};

/* --- UART3 for Bluetooth ---------------------------------------------------- */
&uart3 {
    status = "okay";
    current-speed = <9600>;
    pinctrl-0 = <&uart3_default>;
    pinctrl-names = "default";
};
